{"ast":null,"code":"var _jsxFileName = \"/home/visshon/Downloads/gURLShortner/frontend/src/components/SearchDialog/index.tsx\",\n  _s = $RefreshSig$();\n// #region Imports\nimport { useShortcut } from \"../../hooks/useShortcut\";\nimport { useMouse } from \"../../hooks/useMouse\";\nimport { useContext, useState, useEffect, useRef } from \"react\";\nimport Backdrop from \"./Backdrop\";\nimport { URLsContext } from \"../../context/URLContext\";\n// #endregion\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction SearchDialog({\n  open = false,\n  users,\n  mod\n}) {\n  _s();\n  const {\n    create\n  } = useContext(URLsContext);\n  const dialogRef = useRef(null);\n  const [isOpen, setIsOpen] = useState(false);\n  const [fullURL, setFullURL] = useState(\"\");\n  const [shortURL, setShortURL] = useState(\"\");\n  const searchElement = useRef(null);\n  useEffect(() => {\n    if (searchElement.current && isOpen) {\n      searchElement.current.focus();\n    }\n  }, [isOpen]);\n  useShortcut([[\"mod+K\", () => setIsOpen(prev => !prev)], [\"Escape\", () => {\n    setIsOpen(false);\n  }]]);\n  useMouse({\n    combination: \"mousedown\",\n    handler: e => {\n      var _dialogRef$current;\n      if (!((_dialogRef$current = dialogRef.current) !== null && _dialogRef$current !== void 0 && _dialogRef$current.contains(e.target))) setIsOpen(false);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"dialog\", {\n      ref: dialogRef,\n      className: \"fixed w-[40em] top-32 bg-grey-dark  p-6 rounded-2xl my-16 text-chalk text-xl overflow-hidden animate-modal shadow-lg transition-all delay-150 ease-in-out z-10 h-max\",\n      open: open || isOpen,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex items-center gap-2  text-grey-light font-medium  z-10 text-[1.1rem] mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \" bg-chalk border-[2px] focus:outline-none clear-none p-4 w-full rounded-lg  border-chalk-dark hover:border-blue-main transition-all ease-in-out delay-100 \",\n          value: fullURL,\n          ref: searchElement,\n          autoFocus: true,\n          onChange: e => setFullURL(e.target.value.toLowerCase()),\n          type: \"search\",\n          placeholder: `Try typing \"http://google.com\"...`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"flex gap-4 justify-between  transition-all delay-200 ease-in-out \",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: async () => {\n            const code = await create(fullURL);\n            if (code) setShortURL(code);\n          },\n          className: \"p-2 px-4 w-[20%] bg-blue-main hover:bg-blue-dark rounded-lg  font-bold text-[1rem] transition-all ease-in-out delay-50\",\n          children: \"Shorten\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Backdrop, {\n          short_url: shortURL\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed left-8 top-8 select-none flex gap-5 bg-white p-2 px-4 w-[40%] min-w-fill rounded-xl text-[1rem] font-semibold text-grey-super-light cursor-pointer shadow font-nunito z-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"h-[3rem]\",\n        src: \"/logo.svg\",\n        alt: \"search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"CommandPallete\",\n        onClick: () => setIsOpen(true),\n        className: \"p-3 py-1 w-[90%] flex items-center gap-2 rounded-lg bg-chalk border-[1px] active:border-[2px] active:shadow-md active:bg-white border-chalk-dark hover:border-blue-main transition-all ease-in-out delay-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"h-[2rem]\",\n          src: \"/search.svg\",\n          alt: \"search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Type URL to shorten\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsOpen(true),\n        className: \" font-bold px-4 font-space text-xl flex items-center gap-2 rounded-lg bg-chalk active:border-[1px] active:shadow-lg active:bg-white border-chalk-dark hover:border-blue-main transition-all ease-in-out delay-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"bg-concrete  px-3 border-grey-super-light border-[1px] rounded-md text-grey-dark\",\n          children: mod\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), \"+\", /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"bg-concrete  px-3 border-grey-super-light border-[1px] rounded-md text-grey-dark\",\n          children: \"K\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(SearchDialog, \"x8FzEpeVzDfUw1/y+0FgR3PAxY0=\", false, function () {\n  return [useShortcut, useMouse];\n});\n_c = SearchDialog;\nexport default SearchDialog;\nvar _c;\n$RefreshReg$(_c, \"SearchDialog\");","map":{"version":3,"names":["useShortcut","useMouse","useContext","useState","useEffect","useRef","Backdrop","URLsContext","jsxDEV","_jsxDEV","Fragment","_Fragment","SearchDialog","open","users","mod","_s","create","dialogRef","isOpen","setIsOpen","fullURL","setFullURL","shortURL","setShortURL","searchElement","current","focus","prev","combination","handler","e","_dialogRef$current","contains","target","children","ref","className","value","autoFocus","onChange","toLowerCase","type","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","onClick","code","short_url","src","alt","id","_c","$RefreshReg$"],"sources":["/home/visshon/Downloads/gURLShortner/frontend/src/components/SearchDialog/index.tsx"],"sourcesContent":["// #region Imports\nimport { useShortcut } from \"../../hooks/useShortcut\";\nimport { useMouse } from \"../../hooks/useMouse\";\n\nimport { useContext, useState, useEffect, useRef } from \"react\";\n\nimport Backdrop from \"./Backdrop\";\nimport { URLsContext } from \"../../context/URLContext\";\n// #endregion\n\nexport interface DialogParams {\n  open?: boolean;\n  users: any[];\n  mod: string;\n}\n\nfunction SearchDialog({ open = false, users, mod }: DialogParams) {\n  const { create } = useContext(URLsContext);\n\n  const dialogRef = useRef<HTMLDialogElement>(null);\n\n  const [isOpen, setIsOpen] = useState<boolean>(false);\n\n  const [fullURL, setFullURL] = useState<string>(\"\");\n  const [shortURL, setShortURL] = useState<string>(\"\");\n  const searchElement = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    if (searchElement.current && isOpen) {\n      searchElement.current.focus();\n    }\n  }, [isOpen]);\n\n  useShortcut([\n    [\"mod+K\", () => setIsOpen((prev) => !prev)],\n    [\n      \"Escape\",\n      () => {\n        setIsOpen(false);\n      },\n    ],\n  ]);\n\n  useMouse({\n    combination: \"mousedown\",\n    handler: (e) => {\n      if (!dialogRef.current?.contains(e.target as Node)) setIsOpen(false);\n    },\n  });\n\n  return (\n    <>\n      <dialog\n        ref={dialogRef}\n        className=\"fixed w-[40em] top-32 bg-grey-dark  p-6 rounded-2xl my-16 text-chalk text-xl overflow-hidden animate-modal shadow-lg transition-all delay-150 ease-in-out z-10 h-max\"\n        open={open || isOpen}\n      >\n        <div className=\"relative flex items-center gap-2  text-grey-light font-medium  z-10 text-[1.1rem] mb-6\">\n          <input\n            className=\" bg-chalk border-[2px] focus:outline-none clear-none p-4 w-full rounded-lg  border-chalk-dark hover:border-blue-main transition-all ease-in-out delay-100 \"\n            value={fullURL}\n            ref={searchElement}\n            autoFocus\n            onChange={(e) => setFullURL(e.target.value.toLowerCase())}\n            type=\"search\"\n            placeholder={`Try typing \"http://google.com\"...`}\n          />\n        </div>\n\n        <section className=\"flex gap-4 justify-between  transition-all delay-200 ease-in-out \">\n          <button\n            onClick={async () => {\n              const code = await create(fullURL);\n              if (code) setShortURL(code);\n            }}\n            className=\"p-2 px-4 w-[20%] bg-blue-main hover:bg-blue-dark rounded-lg  font-bold text-[1rem] transition-all ease-in-out delay-50\"\n          >\n            Shorten\n          </button>\n\n          <Backdrop short_url={shortURL} />\n        </section>\n      </dialog>\n\n      <div className=\"fixed left-8 top-8 select-none flex gap-5 bg-white p-2 px-4 w-[40%] min-w-fill rounded-xl text-[1rem] font-semibold text-grey-super-light cursor-pointer shadow font-nunito z-50\">\n        <img className=\"h-[3rem]\" src=\"/logo.svg\" alt=\"search\" />\n\n        <button\n          id=\"CommandPallete\"\n          onClick={() => setIsOpen(true)}\n          className=\"p-3 py-1 w-[90%] flex items-center gap-2 rounded-lg bg-chalk border-[1px] active:border-[2px] active:shadow-md active:bg-white border-chalk-dark hover:border-blue-main transition-all ease-in-out delay-100\"\n        >\n          <img className=\"h-[2rem]\" src=\"/search.svg\" alt=\"search\" />\n\n          <p>Type URL to shorten</p>\n        </button>\n\n        <button\n          onClick={() => setIsOpen(true)}\n          className=\" font-bold px-4 font-space text-xl flex items-center gap-2 rounded-lg bg-chalk active:border-[1px] active:shadow-lg active:bg-white border-chalk-dark hover:border-blue-main transition-all ease-in-out delay-100\"\n        >\n          <p className=\"bg-concrete  px-3 border-grey-super-light border-[1px] rounded-md text-grey-dark\">\n            {mod}\n          </p>\n          +\n          <p className=\"bg-concrete  px-3 border-grey-super-light border-[1px] rounded-md text-grey-dark\">\n            K\n          </p>\n        </button>\n      </div>\n    </>\n  );\n}\n\nexport default SearchDialog;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}