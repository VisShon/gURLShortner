{"ast":null,"code":"var _jsxFileName = \"/home/visshon/Downloads/gURLShortner/frontend/src/components/SearchDialog/index.tsx\",\n  _s = $RefreshSig$();\n// #region Imports\nimport { useShortcut } from \"../../hooks/useShortcut\";\nimport { useMouse } from \"../../hooks/useMouse\";\nimport { useContext, useState, useEffect, useRef } from \"react\";\nimport Backdrop from \"./Backdrop\";\nimport { URLsContext } from \"../../context/URLContext\";\n// #endregion\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction SearchDialog({\n  open = false,\n  users,\n  mod\n}) {\n  _s();\n  const {\n    create\n  } = useContext(URLsContext);\n  const dialogRef = useRef(null);\n  const [isOpen, setIsOpen] = useState(false);\n  const [fullURL, setFullURL] = useState(\"\");\n  const [shortURL, setShortURL] = useState(\"\");\n  const searchElement = useRef(null);\n  useEffect(() => {\n    if (searchElement.current && isOpen) {\n      searchElement.current.focus();\n    }\n  }, [isOpen]);\n  useShortcut([[\"mod+K\", () => setIsOpen(prev => !prev)], [\"Escape\", () => {\n    setIsOpen(false);\n  }]]);\n  useMouse({\n    combination: \"mousedown\",\n    handler: e => {\n      var _dialogRef$current;\n      if (!((_dialogRef$current = dialogRef.current) !== null && _dialogRef$current !== void 0 && _dialogRef$current.contains(e.target))) setIsOpen(false);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"dialog\", {\n      ref: dialogRef,\n      className: \"fixed w-[40em] top-32 bg-grey-dark  p-6 rounded-2xl my-16 text-chalk text-xl overflow-hidden animate-modal shadow-lg transition-all delay-150 ease-in-out z-10 h-max\",\n      open: open || isOpen,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex items-center gap-2  text-grey-light font-medium  z-10 text-[1.1rem] mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \" bg-chalk border-[2px] focus:outline-none clear-none p-4 w-full rounded-lg  border-chalk-dark hover:border-blue-main transition-all ease-in-out delay-100 \",\n          value: fullURL,\n          ref: searchElement,\n          autoFocus: true,\n          onChange: e => setFullURL(e.target.value.toLowerCase()),\n          type: \"search\",\n          placeholder: `Try typing \"http://google.com\"...`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"flex gap-4 justify-between  transition-all delay-200 ease-in-out \",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: async () => {\n            const code = await create(fullURL);\n            if (code) setShortURL(code);\n          },\n          className: \"p-2 px-4 w-[20%] bg-blue-main hover:bg-blue-dark rounded-lg  font-bold text-[1rem] transition-all ease-in-out delay-50\",\n          children: \"Shorten\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Backdrop, {\n          short_url: shortURL\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed left-8 top-8 select-none flex gap-5 bg-white p-2 px-4 w-[40%] min-w-fill rounded-xl text-[1rem] font-semibold text-grey-super-light cursor-pointer shadow font-nunito z-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"h-[3rem]\",\n        src: \"/ltv.svg\",\n        alt: \"search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"CommandPallete\",\n        onClick: () => setIsOpen(true),\n        className: \"p-3 py-1 w-[90%] flex items-center gap-2 rounded-lg bg-chalk border-[1px] active:border-[2px] active:shadow-md active:bg-white border-chalk-dark hover:border-blue-main transition-all ease-in-out delay-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"h-[2rem]\",\n          src: \"/search.svg\",\n          alt: \"search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Type URL to shorten\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsOpen(true),\n        className: \" font-bold px-4 font-space text-xl flex items-center gap-2 rounded-lg bg-chalk active:border-[1px] active:shadow-lg active:bg-white border-chalk-dark hover:border-blue-main transition-all ease-in-out delay-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"bg-concrete  px-3 border-grey-super-light border-[1px] rounded-md text-grey-dark\",\n          children: mod\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 6\n        }, this), \"+\", /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"bg-concrete  px-3 border-grey-super-light border-[1px] rounded-md text-grey-dark\",\n          children: \"K\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n}\n_s(SearchDialog, \"ZNLCsviHkF3vaRN6alCJM8ajnEs=\", false, function () {\n  return [useShortcut, useMouse];\n});\n_c = SearchDialog;\nexport default SearchDialog;\nvar _c;\n$RefreshReg$(_c, \"SearchDialog\");","map":{"version":3,"names":["useShortcut","useMouse","useContext","useState","useEffect","useRef","Backdrop","URLsContext","jsxDEV","_jsxDEV","Fragment","_Fragment","SearchDialog","open","users","mod","_s","create","dialogRef","isOpen","setIsOpen","fullURL","setFullURL","shortURL","setShortURL","searchElement","current","focus","prev","combination","handler","e","_dialogRef$current","contains","target","children","ref","className","value","autoFocus","onChange","toLowerCase","type","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","onClick","code","short_url","src","alt","id","_c","$RefreshReg$"],"sources":["/home/visshon/Downloads/gURLShortner/frontend/src/components/SearchDialog/index.tsx"],"sourcesContent":["// #region Imports\nimport { useShortcut } from \"../../hooks/useShortcut\"\nimport { useMouse } from \"../../hooks/useMouse\"\n\nimport { \n\tuseContext, \n\tuseState, \n\tuseEffect, \n\tuseRef \n} from \"react\"\n\nimport Backdrop from \"./Backdrop\"\nimport { URLsContext } from \"../../context/URLContext\"\n// #endregion\n\nexport interface DialogParams {\n\topen?:boolean,\n\tusers:any[],\n    mod:string\n}\n\n\nfunction SearchDialog({open=false,users,mod}:DialogParams) {\n\n\tconst {create} = useContext(URLsContext)\n\n\tconst dialogRef = useRef<HTMLDialogElement>(null)\n\t\n\tconst [isOpen,setIsOpen] = useState<boolean>(false)\n\n    const [fullURL, setFullURL] = useState<string>(\"\")\n    const [shortURL, setShortURL] = useState<string>(\"\")\n    const searchElement = useRef<HTMLInputElement>(null)\n\n\tuseEffect(() => {\n\t\tif (searchElement.current&&isOpen) {\n\t\t\tsearchElement.current.focus()\n\t\t}\n\t}, [isOpen])\n\n\tuseShortcut([\n\t\t[\"mod+K\", () => setIsOpen(prev => !prev)],\n\t\t[\"Escape\", () => {\n\t\t\tsetIsOpen(false)\n\t\t}],\n\t])\n\n\tuseMouse({\n\t\tcombination:\"mousedown\", \n\t\thandler: (e) => {\n\t\t\tif(!dialogRef.current?.contains(e.target as Node))\n\t\t\t\tsetIsOpen(false)\n\t\t},\n\t})\n\n\n\n\treturn (\n\t\t<>\n\n\t\t\t<dialog \n\t\t\t\tref={dialogRef}\n\t\t\t\tclassName=\"fixed w-[40em] top-32 bg-grey-dark  p-6 rounded-2xl my-16 text-chalk text-xl overflow-hidden animate-modal shadow-lg transition-all delay-150 ease-in-out z-10 h-max\"\n\t\t\t\topen={open||isOpen}\n\t\t\t>\n\n                <div\n                    className=\"relative flex items-center gap-2  text-grey-light font-medium  z-10 text-[1.1rem] mb-6\"\n                >\n\n                    <input \n                        className=\" bg-chalk border-[2px] focus:outline-none clear-none p-4 w-full rounded-lg  border-chalk-dark hover:border-blue-main transition-all ease-in-out delay-100 \"\n                        value={fullURL}\n                        ref={searchElement}\n                        autoFocus\n                        onChange={(e)=>setFullURL(e.target.value.toLowerCase())}\n                        type=\"search\"\n                        placeholder={`Try typing \"http://google.com\"...`}\n                    />\n                            \n                </div>\n\n\t\t\t\t<section className=\"flex gap-4 justify-between  transition-all delay-200 ease-in-out \">\n\t\t\n                    <button\n                        onClick={async()=>{\n                            const code = await create(fullURL)\n                            if (code) setShortURL(code)\n                        }}\n                        className=\"p-2 px-4 w-[20%] bg-blue-main hover:bg-blue-dark rounded-lg  font-bold text-[1rem] transition-all ease-in-out delay-50\"\n                    >\n                        Shorten\n                    </button>\n\n\t\t\t\t\t<Backdrop\n                        short_url={shortURL}\n                    />\n\t\t\t\t\t\n\t\t\t\t</section>\n\n\t\t\t\t\n\t\t\t\t\n\t\t\t</dialog>\n\n\n\t\t\t<div\n\t\t\t\tclassName=\"fixed left-8 top-8 select-none flex gap-5 bg-white p-2 px-4 w-[40%] min-w-fill rounded-xl text-[1rem] font-semibold text-grey-super-light cursor-pointer shadow font-nunito z-50\"\n\t\t\t>\n\n\t\t\t\t<img\n                    className=\"h-[3rem]\"\n\t\t\t\t\tsrc=\"/ltv.svg\"\n\t\t\t\t\talt=\"search\"\n\t\t\t\t/>\n\n\t\t\t\t<button\n\t\t\t\t\tid=\"CommandPallete\" \n\t\t\t\t\tonClick={()=>setIsOpen(true)}\n\t\t\t\t\tclassName=\"p-3 py-1 w-[90%] flex items-center gap-2 rounded-lg bg-chalk border-[1px] active:border-[2px] active:shadow-md active:bg-white border-chalk-dark hover:border-blue-main transition-all ease-in-out delay-100\">\n\t\t\t\t\t\n                    <img\n                        className=\"h-[2rem]\"\n\t\t\t\t\t\tsrc=\"/search.svg\"\n\t\t\t\t\t\talt=\"search\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<p>\n\t\t\t\t\t\tType URL to shorten\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t</button>\n\n\t\t\t\t<button\n\t\t\t\t\tonClick={()=>setIsOpen(true)}\n\t\t\t\t\tclassName=\" font-bold px-4 font-space text-xl flex items-center gap-2 rounded-lg bg-chalk active:border-[1px] active:shadow-lg active:bg-white border-chalk-dark hover:border-blue-main transition-all ease-in-out delay-100\">\n\n\t\t\t\t\t<p className=\"bg-concrete  px-3 border-grey-super-light border-[1px] rounded-md text-grey-dark\">\n\t\t\t\t\t\t{mod}\n\t\t\t\t\t</p>+\n\t\t\t\t\t<p className=\"bg-concrete  px-3 border-grey-super-light border-[1px] rounded-md text-grey-dark\">K</p>\n\n\t\t\t\t</button>\n\t\t\t\t\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\n\nexport default SearchDialog"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}